<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Guitar Rookie</title>

<!-- é¢„åŠ è½½é¦–å±å…³é”®å›¾ç‰‡ -->
<link rel="preload" as="image" href="./src/img/avatar2.jpg">
<link rel="preload" as="image" href="./src/img/avatar.jpg">

<style>
  html {
    overflow-y: scroll;
    scrollbar-width: none;
    -ms-overflow-style: none;
  }
  html::-webkit-scrollbar { display: none; }
  *{box-sizing:border-box}
  body{margin:0;font-family:"Segoe UI",Tahoma,Geneva,Verdana,sans-serif;background:#f7f7f7}
  .navbar{display:flex;align-items:center;background:#222;color:#fff;padding:8px 20px;position:sticky;top:0;z-index:100}
  .nav-avatar{width:36px;height:36px;border-radius:50%;cursor:pointer;margin-right:16px}
  .nav-item{margin-right:20px;cursor:pointer;padding:6px 12px;border-radius:4px}
  .nav-item:hover,.nav-item.active{background:#555}
  #pageContainer{min-height:calc(100vh - 52px)}
  .page{display:none;padding:20px}
  .page.active{display:block}
  .page-tag{background:#4a90e2;color:#fff;padding:4px 12px;border-radius:12px;font-size:.9rem;margin-left:10px;display:none}
  .grid-container{display:grid;grid-template-columns:repeat(6,1fr);gap:15px}
  @media(max-width:1200px){.grid-container{grid-template-columns:repeat(4,1fr)}}
  @media(max-width:900px){.grid-container{grid-template-columns:repeat(3,1fr)}}
  @media(max-width:600px){.grid-container{grid-template-columns:repeat(2,1fr)}}
  @media(max-width:400px){.grid-container{grid-template-columns:1fr}}
  .grid-item{position:relative;cursor:pointer;border-radius:8px;overflow:hidden;box-shadow:0 0 6px rgba(0,0,0,.1);background:#fff;transition:transform .2s}
  .grid-item:hover{transform:scale(1.05)}
  .grid-item img{width:100%;height:auto;display:block}
  .overlay{position:absolute;bottom:0;background:rgba(0,0,0,.7);color:#fff;width:100%;padding:10px;opacity:0;transition:opacity .3s;font-size:.9rem}
  .grid-item:hover .overlay{opacity:1}
  #externalFrame{width:100%;height:calc(100vh - 52px);border:none}
</style>
</head>
<body>

<!-- ===== å›ºå®šå¯¼èˆª ===== -->
<div class="navbar">
  <img class="nav-avatar" id="avatar" src="./src/img/avatar2.jpg" alt="å¤´åƒ"/>
  <div class="nav-item active" data-page="app">APPs</div>
  <div class="nav-item" data-page="intro">ç®€ä»‹</div>
  <span id="pageTag" class="page-tag"></span>
</div>

<!-- ===== é¡µé¢å®¹å™¨ ===== -->
<div id="pageContainer">
  <div id="app" class="page active">
    <div class="grid-container" id="gridApp"></div>
  </div>

  <div id="intro" class="page">
    <div style="max-width:600px;margin:0 auto;background:#fff;border-radius:10px;padding:30px;text-align:center;box-shadow:0 4px 12px rgba(0,0,0,.1)">
      <img src="./src/img/avatar.jpg" loading="lazy"
           style="width:150px;height:150px;border-radius:50%;object-fit:cover;margin-bottom:20px;border:3px solid #4a90e2" alt="å¤´åƒ"/>
      <h1 style="margin:0 0 10px;font-weight:700">Guitar Rookie</h1>
      <p style="font-size:1.1rem;color:#555;line-height:1.6">
        å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯Guitar Rookieï¼Œå–œæ¬¢<b>å”±ã€è·³ã€Rapã€ç¯®çƒ</b>ã€‚<br>
        å¸Œæœ›æœªæ¥ä¸æ–­æå‡è‡ªå·±ï¼Œæˆä¸ºä¸€åä¼˜ç§€çš„æ™®é€šäººã€‚<br>
        å·¥å…·éƒ¨åˆ†æ ¹æ®è‡ªå·±éœ€æ±‚å†™çš„ï¼Œéƒ¨åˆ†æ•´åˆè‡ªç½‘ç»œã€‚<br>
        <b>ğŸŒ¸ğŸŒ¸ä½¿ç”¨æ„‰å¿«ğŸŒ¸ğŸŒ¸</b>
      </p>

      <img src="./src/img/wechatPay.jpg" loading="lazy" id="wechatImg"
           style="width:150px;height:150px;border-radius:8px;object-fit:cover;margin-top:20px;cursor:pointer"
           alt="çœŸçš„æ˜¯ä½ å‘€~" title="ä½ çœŸçš„å¾ˆç¾ä¸½~"/>

      <audio id="hoverSound" preload="auto">
        <source src="./src/sound/éŸ³æ•ˆ.mp3" type="audio/mpeg">
        æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘æ’­æ”¾ã€‚
      </audio>
    </div>
  </div>

  <div id="external" class="page">
    <iframe id="externalFrame" src=""></iframe>
  </div>
</div>

<script defer>
document.addEventListener('DOMContentLoaded', function () {
  const appData = [
    {name:'æŒ‡æ¿è®°å¿†',url:'./apps/æŒ‡æ¿è®°å¿†/æŒ‡æ¿è®°å¿†.html', img:'./apps/æŒ‡æ¿è®°å¿†/detail.png'},
    {name:'å’Œå¼¦ç»„æˆéŸ³ç»ƒä¹ ', url:'./apps/å’Œå¼¦ç»„æˆéŸ³/ç»„æˆéŸ³.html', img:'./apps/å’Œå¼¦ç»„æˆéŸ³/detail.png'},
    {name:'å’Œå¼¦æŒ‡æ³•åº“', url:'./apps/å’Œå¼¦æŒ‡å‹åˆé›†/å’Œå¼¦æŒ‡æ³•åº“.html', img:'./apps/å’Œå¼¦æŒ‡å‹åˆé›†/detail.png'},
    {name:'æŒ‡æ¿éŸ³ç¨‹éŸ³åç»ƒä¹ ', url:'./apps/æŒ‡æ¿éŸ³ç¨‹è®°å¿†/æŒ‡æ¿éŸ³ç¨‹è®°å¿†.html', img:'./apps/æŒ‡æ¿éŸ³ç¨‹è®°å¿†/detail.png'},
    {name:'å’Œå¼¦è¯†åˆ«', url:'https://www.musictheory.net/exercises/fretboard-chord', img:'./apps/å’Œå¼¦è¯†åˆ«/detail.png'},
    {name:'chords progression', url:'./apps/chords_progression/chord_progression.html', img:'./apps/chords_progression/detail.png'},
    {name:'random rhythm generator', url:'https://randomrhythmgenerator.com/',img:'./apps/random_rhythm_generator/detail.png'},
    {name:'ear training--musicacademy', url:'https://musicacademy.app/zh/', img:'./apps/ear_training/detail.png'}

  ];

  function switchPage(pageId,title=''){
    document.querySelectorAll('#pageContainer .page').forEach(p=>p.classList.remove('active'));
    document.querySelectorAll('.nav-item').forEach(n=>n.classList.remove('active'));
    const tag=document.getElementById('pageTag');
    if(pageId==='app'||pageId==='intro'){
      document.getElementById(pageId).classList.add('active');
      document.querySelector(`.nav-item[data-page="${pageId}"]`).classList.add('active');
      tag.style.display='none'; tag.textContent='';
    }else if(pageId==='external'){
      document.getElementById('external').classList.add('active');
      document.getElementById('externalFrame').src=appData.find(a=>a.name===title)?.url||'';
      tag.textContent=title; tag.style.display='inline-block';
    }
  }

  function generateAppGrid(){
    const container=document.getElementById('gridApp');
    container.innerHTML='';
    appData.forEach(item=>{
      const div=document.createElement('div');
      div.className='grid-item';
      const picSrc = item.img || `https://picsum.photos/300/200?random=${Math.random()}`;
      div.innerHTML=`
        <img src="${picSrc}" loading="lazy" alt="${item.name}"/>
        <div class="overlay">${item.name}</div>`;
      div.onclick=()=>switchPage('external',item.name);
      container.appendChild(div);
    });
  }

  document.getElementById('avatar').addEventListener('click',()=>switchPage('app'));
  document.querySelectorAll('.nav-item').forEach(nav=>{
    nav.addEventListener('click',()=>switchPage(nav.dataset.page));
  });

  const wechatImg = document.getElementById('wechatImg');
  const hoverSound = document.getElementById('hoverSound');
  wechatImg.addEventListener('mouseenter', () => {
    hoverSound.currentTime = 0;
    hoverSound.play().catch(() => {
      console.warn('æ’­æ”¾è¢«é˜»æ­¢ï¼Œç”¨æˆ·éœ€å…ˆäº¤äº’é¡µé¢ã€‚');
    });
  });

  generateAppGrid();
});
</script>
</body>
</html>
