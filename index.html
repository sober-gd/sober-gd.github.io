<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Guitar Rookie</title>
<style>
/* ===== 通用 ===== */
*{box-sizing:border-box}
body{margin:0;font-family:"Segoe UI",Tahoma,Geneva,Verdana,sans-serif;background:#f7f7f7}
.navbar{display:flex;align-items:center;background:#222;color:#fff;padding:8px 20px;position:sticky;top:0;z-index:100}
.nav-avatar{width:36px;height:36px;border-radius:50%;cursor:pointer;margin-right:16px}
.nav-item{margin-right:20px;cursor:pointer;padding:6px 12px;border-radius:4px}
.nav-item:hover,.nav-item.active{background:#555}
#pageContainer{min-height:calc(100vh - 52px)}
.page{display:none;padding:20px}
.page.active{display:block}

/* 动态标签 */
.page-tag{background:#4a90e2;color:#fff;padding:4px 12px;border-radius:12px;font-size:.9rem;margin-left:10px;display:none}

/* ===== APP 网格（默认6列） ===== */
.grid-container{display:grid;grid-template-columns:repeat(6,1fr);gap:15px}
@media(max-width:1200px){.grid-container{grid-template-columns:repeat(4,1fr)}}
@media(max-width:900px){.grid-container{grid-template-columns:repeat(3,1fr)}}
@media(max-width:600px){.grid-container{grid-template-columns:repeat(2,1fr)}}
@media(max-width:400px){.grid-container{grid-template-columns:1fr}}

.grid-item{position:relative;cursor:pointer;border-radius:8px;overflow:hidden;box-shadow:0 0 6px rgba(0,0,0,.1);background:#fff;transition:transform .2s}
.grid-item:hover{transform:scale(1.05)}
.grid-item img{width:100%;height:auto;display:block}
.overlay{position:absolute;bottom:0;background:rgba(0,0,0,.7);color:#fff;width:100%;padding:10px;opacity:0;transition:opacity .3s;font-size:.9rem}
.grid-item:hover .overlay{opacity:1}

/* 外部页面加载区域 */
#externalFrame{width:100%;height:calc(100vh - 52px);border:none}
</style>
</head>
<body>

<!-- ===== 固定导航 ===== -->
<div class="navbar">
  <img class="nav-avatar" id="avatar" src="./src/img/avatar2.jpg" alt="头像"/>
  <div class="nav-item active" data-page="app">APPs</div>
  <div class="nav-item" data-page="intro">简介</div>
  <span id="pageTag" class="page-tag"></span>
</div>

<!-- ===== 页面容器 ===== -->
<div id="pageContainer">
  <!-- APP 页 -->
  <div id="app" class="page active">
    <div class="grid-container" id="gridApp"></div>
  </div>

  <!-- 自我介绍页 -->
  <div id="intro" class="page">
    <div style="max-width:600px;margin:0 auto;background:#fff;border-radius:10px;padding:30px;text-align:center;box-shadow:0 4px 12px rgba(0,0,0,.1)">
      <img src="./src/img/avatar.jpg" style="width:150px;height:150px;border-radius:50%;object-fit:cover;margin-bottom:20px;border:3px solid #4a90e2" alt="头像"/>
      <h1 style="margin:0 0 10px;font-weight:700">Guitar Rookie</h1>
      <p style="font-size:1.1rem;color:#555;line-height:1.6">
        大家好，我是Guitar Rookie，喜欢<b>唱、跳、Rap、篮球</b>。<br>
        希望未来不断提升自己，成为一名优秀的普通人。
      </p>
    </div>
  </div>

  <!-- 外部页面加载区域 -->
  <div id="external" class="page">
    <iframe id="externalFrame" src=""></iframe>
  </div>
</div>

<script>
/* === APP 网格数据 === 
    这里可以替换为实际的APP数据，包含名称和对应的URL
    注意：URL必须是相对路径或绝对路径，确保能正确加载
*/
const appData = [
  {name:'Chords Progression',url:'./apps/chords_progression/chord_progression.html', img:'./apps/chords_progression/detail.png'},
  {name:'Scale Explorer',    url:'./apps/scale_explorer/scale_explorer.html'},
  {name:'Metronome',         url:'./apps/metronome/metronome.html'},
  {name:'Tuner',             url:'./apps/tuner/tuner.html'},
  {name:'Recorder',          url:'./apps/recorder/recorder.html'},
  {name:'Drum Machine',      url:'./apps/drum/drum.html'}
];

/* === 页面切换 === */
function switchPage(pageId,title=''){
  document.querySelectorAll('#pageContainer .page').forEach(p=>p.classList.remove('active'));
  document.querySelectorAll('.nav-item').forEach(n=>n.classList.remove('active'));
  const tag=document.getElementById('pageTag');
  if(pageId==='app'||pageId==='intro'){
    document.getElementById(pageId).classList.add('active');
    document.querySelector(`.nav-item[data-page="${pageId}"]`).classList.add('active');
    tag.style.display='none'; tag.textContent='';
  }else if(pageId==='external'){
    document.getElementById('external').classList.add('active');
    document.getElementById('externalFrame').src=appData.find(a=>a.name===title)?.url||'';
    tag.textContent=title; tag.style.display='inline-block';
  }
}

/* === 生成 APP 网格 === */
function generateAppGrid(){
  const container=document.getElementById('gridApp');
  container.innerHTML='';
  appData.forEach(item=>{
    const div=document.createElement('div');
    div.className='grid-item';
    const picSrc = item.img || `https://picsum.photos/300/200?random=${Math.random()}`;
    div.innerHTML=`
      <img src="${picSrc}" alt="${item.name}"/>
      <div class="overlay">${item.name}</div>`;
    div.onclick=()=>switchPage('external',item.name);
    container.appendChild(div);
  });
}


/* === 事件绑定 === */
document.getElementById('avatar').addEventListener('click',()=>switchPage('app'));
document.querySelectorAll('.nav-item').forEach(nav=>{
  nav.addEventListener('click',()=>switchPage(nav.dataset.page));
});

/* === 初始化 === */
generateAppGrid();
</script>
</body>
</html>
